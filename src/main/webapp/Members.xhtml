<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
      
<h:body>
      <ui:composition template="MainPage.xhtml">
      	
	    <ui:define name="body" style="margin-left: 80px">	
	    		
			<!-- Modal For Delete -->
	   
<div class="modal fade" tabindex="-1" role="dialog" id="deleteModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Delete Member</h4>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete this user?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" id="saveDelete">Save changes</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<!-- Modal For Delete -->
			    	
	    	<h:form>
	    	
	    	<h:dataTable value="#{customer.getCustomerList()}" var="c"
    			styleClass="order-table"
    			headerClass="order-table-header"
    			rowClasses="order-table-odd-row,order-table-even-row"
    			id = "members">
 
    		<h:column>
    			<f:facet name="header" class="tableHeader">
    				Customer ID
    			</f:facet>
    				#{c.customerId}
    		</h:column>
 
    		<h:column class="tableHeader">
    			<f:facet name="header">
    				First Name
				</f:facet>
    				#{c.fname}
    		</h:column>
    		
    		<h:column class="tableHeader">
    			<f:facet name="header">
    				Last Name
				</f:facet>
    				#{c.lname}
    		</h:column>
 
 			<h:column class="tableHeader">
    			<f:facet name="header">
    				Address
				</f:facet>
    				#{c.address}
    		</h:column>
    		
    		<h:column class="tableHeader">
    			<f:facet name="header">
    				Zip
    			</f:facet>
    				#{c.zipcode}
    		</h:column>
    		
    		<h:column class="tableHeader">
    			<f:facet name="header">
    				Created Date
				</f:facet>
    				#{c.createdDate}
    		</h:column>
    		<h:column>
    			<f:facet name="header">
    				Edit/Delete
    			</f:facet>
    			<a href="">Edit</a>/<a href="" class="editor_remove" data-toggle="modal" data-target="#deleteModal">Delete</a>
    		</h:column>
    		
    	</h:dataTable>
	   </h:form> 
	   
	   
	   <script src="https://cdn.datatables.net/1.10.11/js/jquery.dataTables.min.js"/>
	   <link href="https://cdn.datatables.net/1.10.11/css/jquery.dataTables.min.css"/>
	<script>	
	    $(document).ready(function() {
	    	$("[id$='members']").DataTable( {
	        createdRow: function ( row ) {
	            $('td', row).attr('tabindex', 0);
	        	}	
    		} );
		} );  
	    $("[id$='members']").on( 'click', 'a.editor_remove', function (e) {
	        e.preventDefault();
	       	var target = $(this);
	       	$('#saveDelete').click(function (){
	       	 	target.closest('tr').remove();
	       	 	$('#deleteModal').modal('hide');
	       	});
	    } );
	 </script>
	 <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.11/css/jquery.dataTables.min.css"/>
		</ui:define>
		
	</ui:composition>
</h:body>
</html>   